image:
  repository: vaultwarden/server
  tag: 1.29.0

resources:
  ignore: true

vars:
  DOMAIN: https://vaultwarden.cloud.lambacher.eu

ingress:
  ingressClassName: traefik
  host: vaultwarden.cloud.lambacher.eu
  # TLS is deactived in ingress, since default cert of traefik will take care of it (TLS per default)
  tlsEnabled: false

tolerations:
  - key: "cloud.lambacher.eu/location"
    value: "cloud"
    operator: "Equal"
    effect: "NoSchedule"

nodeSelector:
  cloud.lambacher.eu/location: "cloud"

replicas: 1

containerPort: 80

probe:
  enabled: true
  path: "/"
  settings:
    initialDelaySeconds: 0
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 3
    failureThreshold: 3

livenessProbe:
  enabled: true
  path: "/"
  settings:
    initialDelaySeconds: 0
    periodSeconds: 10
    successThreshold: 1
    timeoutSeconds: 3
    failureThreshold: 3

volumes:
  - name: data
    path: /data
    size: 10Gi
    storageClass: longhorn-important
    pvcAnnotations: 
      helm.sh/resource-policy: keep